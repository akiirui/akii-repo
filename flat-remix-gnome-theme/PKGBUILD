# Contributor: Daniel Ruiz de Alegria <daniel@drasite.com>
# Maintainer: Akatsuki Rui <akiirui@outlook.com>

pkgname=flat-remix-gnome-theme
pkgver=20200723
pkgrel=2
pkgdesc="Flat Remix is a GNOME Shell theme inspired by material design."
arch=('any')
url="https://drasite.com/flat-remix-gnome"
license=('CC-BY-SA-4.0')
conflicts=(flat-remix-gnome)
_pkgbase=flat-remix-gnome
_commit=24edc670937547a230f4c9066e5b38e4b9214e16
source=("https://github.com/daniruiz/flat-remix-gnome/archive/$_commit/flat-remix-gnome-$_commit.tar.gz")
sha512sums=('0405f7e25241d71f95dd029c8e5d38e53e157da09c527d2cf0ed6ea8fed9a311c389b246a9c03c8534e9eb8f093a3a2ffb8ac49fafee7b3ebe90bd2dff603ed6')

prepare() {
    cd $_pkgbase-$_commit
    # No ugly border
    sed -i 's/-arrow-border-width: 12px;/-arrow-border-width: 0;/g' Flat-Remix*/gnome-shell/gnome-shell.css

    # After 0f9595442b7899590156335688dfffd2540bd039
    # No panel padding
    sed -i -z 's/  padding: 0.1em 0;\n//g' Flat-Remix*fullPanel/gnome-shell/gnome-shell.css
    # No panel box-shadow
    sed -i -z 's/  box-shadow: 0 1px 2px black;\n//g' Flat-Remix*/gnome-shell/gnome-shell.css
}

package_flat-remix-gnome-theme() {
    pkgdesc="Flat Remix is a GNOME Shell theme inspired by material design"

    cd $_pkgbase-$_commit
    install -d ${pkgdir}/usr/share/themes
    cp -a Flat-Remix-Blue-Dark-fullPanel ${pkgdir}/usr/share/themes/
}
